var fs = require('fs');
global.sgf_file = '(;GM[1]FF[4]AP[HiveGo:0.0.1]ST[1]\nSZ[9]HA[0]KM[5.5]PW[White]PB[Black]\n\n';

function appendSGF(sgf_pt){
  sgf_file += sgf_pt;
  fs.writeFile(__dirname + '/../public/sgf/game.sgf', sgf_file, function(err){
    if(err) throw err;
  });
}

exports.move = function(coord){
  var sgf_pt = '';

  //reversed because we have it after round switch and boardupdate so we don't block
  sgf_pt += (global.current_color == 1) ? ';B[' : ';W[';

  //if pass/resign
  if(typeof(coord.x) == 'undefined' || typeof(coord.y) == 'undefined'){
    sgf_pt += 'tt]';
    appendSGF(sgf_pt);
  }

  sgf_pt += String.fromCharCode(97 + coord.x);
  sgf_pt += String.fromCharCode(97 + 8 - coord.y) + ']';
  appendSGF(sgf_pt);
}
